name: "Stripe"
sid: stripe
description: "Stripe service"
repository: "https://github.com/mesg-foundation/service-stripe"
tasks:
  charge:
    inputs:
      phone:
        description: "Phone number of the user to charge"
        type: Number
      amount:
        description: "Amount to charge, this value should be in cents"
        type: Number
      source:
        description: "Purpose of the payment/Store name/Service name"
        type: String
      metadata:
        description: "Some meta data related to the payment"
        type: Object
    outputs: &chargeData
      id:
        description: "ID of the charge on Stripe"
        type: String
      date:
        description: "Date in ISO format when the charge has been proccessed"
        type: String
      amount:
        description: "Amount in cents of the charge"
        type: Number
      currency:
        description: "Currency used to charge https://stripe.com/docs/currencies"
        type: String
      customer:
        description: "Email of the customer charged"
        type: String
      paid:
        description: "Boolean that indicates if the payment has been done"
        type: Boolean
      metadata:
        description: "Some meta data related to the payment"
        type: Object
events:
  charged:
    data:
      <<: *chargeData
configuration:
  env:
    - STRIPE_SECRET_KEY=
  ports:
    - 3001:3001
